<!DOCTYPE html>
<html lang="en">
<head>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<title>For Rianne ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Poppins', sans-serif;
  color: white;
  position: relative;
  height: 100%;
  background: radial-gradient(circle at top, #ff7eb3, #1b1b2f);
  background-size: 200% 200%;
  animation: gradientShift 15s ease infinite;
  overflow-x: hidden;
  overflow-y: auto;
}

h1, h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2rem, 8vw, 3rem);
  letter-spacing: 1px;
  text-shadow: 0 0 20px rgba(255, 200, 220, 0.4);
  margin: 0;
  padding: 0;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* SCREEN CONTAINER - CRITICAL FIX FOR BUTTON SPACE */
.screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh; /* Use vh instead of dvh for broader support */
  display: flex;
  justify-content: center;
  align-items: flex-start; /* Revert to flex-start with top padding */
  padding: 60px 20px 80px 20px; /* Add BOTTOM padding for buttons */
  opacity: 0;
  pointer-events: none;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  transform: translateY(15px) scale(0.98);
  z-index: 10;
  overflow-y: auto; /* Allow scrolling but keep content in view */
}

.screen.active {
  opacity: 1;
  pointer-events: all;
  transform: translateY(0) scale(1);
}

/* Stars background */
.stars {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
}

.stars::before, .stars::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, white, transparent),
    radial-gradient(1px 1px at 80% 60%, white, transparent),
    radial-gradient(1px 1px at 50% 90%, white, transparent),
    radial-gradient(1px 1px at 40% 40%, white, transparent),
    radial-gradient(1px 1px at 70% 20%, white, transparent);
  animation: twinkle 4s infinite alternate;
  opacity: 0.4;
}

.stars::after {
  background-image:
    radial-gradient(2px 2px at 10% 80%, #ff99cc, transparent),
    radial-gradient(2px 2px at 90% 10%, #ff99cc, transparent),
    radial-gradient(2px 2px at 60% 70%, #ff99cc, transparent);
  animation: twinkle 6s infinite alternate-reverse;
  opacity: 0.2;
}

@keyframes twinkle {
  from { opacity: 0.2; }
  to { opacity: 0.6; }
}

/* Card - CRITICAL FIX FOR BUTTON SPACE */
.card {
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-radius: 20px;
  padding: 35px 25px 45px 25px; /* Extra bottom padding for buttons */
  text-align: center;
  max-width: 95%; /* Almost full width to avoid overflow */
  width: 100%;
  max-width: 420px;
  box-shadow: 0 0 30px rgba(0,0,0,0.3);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  overflow: visible; /* CRITICAL: Allow buttons to extend slightly if needed */
  margin: 0 auto;
}

.card::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 1.5s ease;
}

.card:hover::before {
  left: 100%;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
}

/* ALL BUTTONS - UNIFIED FIX FOR BLOCKING */
button {
  margin-top: 20px;
  padding: 12px 25px;
  border-radius: 30px;
  border: none;
  background: #ff4d94;
  color: white;
  font-size: clamp(0.9rem, 3vw, 1.1rem);
  cursor: pointer;
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="%23ff4d94"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'), auto;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 15px rgba(255, 77, 148, 0.3);
  position: relative;
  overflow: hidden;
  font-weight: 600;
  
  /* CRITICAL FIXES FOR BLOCKING */
  max-width: 100%; /* Full width of card */
  width: auto;
  display: inline-block;
  white-space: normal; /* Allow text wrapping */
  word-wrap: break-word;
  line-height: 1.4;
  text-align: center;
  overflow: visible; /* No clipping */
}

button::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: rgba(255,255,255,0.2);
  transition: left 0.4s ease;
}

button:hover::before {
  left: 100%;
}

button:hover {
  background: #ff3385;
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(255, 77, 148, 0.4);
}

button:active {
  transform: scale(0.98);
}

/* Password Input */
#passwordInput {
  width: 90%; /* Slightly wider but safe */
  max-width: 300px;
  padding: 12px 15px;
  margin: 20px 0;
  border-radius: 30px;
  border: none;
  background: rgba(255,255,255,0.2);
  color: white;
  font-size: 1rem;
  outline: none;
  text-align: center;
  transition: all 0.3s ease;
}

#passwordInput::placeholder {
  color: rgba(255,255,255,0.7);
}

#passwordInput:focus {
  background: rgba(255,255,255,0.3);
  box-shadow: 0 0 15px rgba(255, 77, 148, 0.4);
  transform: scale(1.02);
}

/* Heart Container */
.heart-img-container {
  width: clamp(120px, 30vw, 180px);
  height: auto;
  aspect-ratio: 180/165; /* Maintain heart shape */
  margin: 0 auto 20px;
  position: relative;
  cursor: pointer;
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="%23ff4d94"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'), auto;
  -webkit-tap-highlight-color: transparent;
  transition: all 0.4s ease;
  box-shadow: 0 0 15px rgba(255, 77, 148, 0.4);
  -webkit-animation: heartPop 0.8s ease-out forwards, pulse 3s infinite alternate;
  animation: heartPop 0.8s ease-out forwards, pulse 3s infinite alternate;
  opacity: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff4d94'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E");
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-position: center;
}

.heart-img-wrapper {
  width: 80px;
  height: 80px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid white;
}

.heart-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

@keyframes heartPop {
  0% { opacity: 0; transform: scale(0.8); }
  80% { transform: scale(1.05); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes pulse {
  0% { box-shadow: 0 0 15px rgba(255, 77, 148, 0.4); }
  100% { box-shadow: 0 0 25px rgba(255, 77, 148, 0.7); }
}

.heart-img-container:hover {
  transform: scale(1.1);
  box-shadow: 0 0 25px rgba(255, 77, 148, 0.7);
  animation: none;
}

.heart-img-container:hover .heart-img {
  transform: scale(1.1);
}

/* Text Boxes */
.textBox {
  display: none;
  width: 100%;
  opacity: 0;
  transform: translateY(15px);
  transition: all 0.6s ease;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.textBox.active {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

.contentText {
  line-height: 1.6;
  font-size: clamp(1rem, 2.5vw, 1.05rem);
  margin-bottom: 20px;
  min-height: 80px;
  white-space: normal;
  word-wrap: break-word;
  padding: 0 5px;
}

.highlight {
  color: #ff4d94;
  text-shadow: 0 0 10px rgba(255, 77, 148, 0.5);
  animation: glow 2s infinite alternate;
}

@keyframes glow {
  from { text-shadow: 0 0 10px rgba(255, 77, 148, 0.5); }
  to { text-shadow: 0 0 20px rgba(255, 77, 148, 0.8); }
}

/* Floating Hearts */
.heart {
  position: fixed;
  bottom: -20px;
  width: 12px;
  height: 12px;
  background: #ff4d94;
  transform: rotate(45deg);
  animation: floatUp 8s linear forwards;
  pointer-events: none;
  opacity: 0.8;
}

.heart::before, .heart::after {
  content: "";
  position: absolute;
  width: 12px;
  height: 12px;
  background: #ff4d94;
  border-radius: 50%;
}

.heart::before { top: -6px; left: 0; }
.heart::after { left: -6px; top: 0; }

@keyframes floatUp {
  to { transform: translateY(-110vh) rotate(45deg); opacity: 0; }
}

/* Confetti */
.confetti {
  position: fixed;
  top: -10px;
  width: 8px;
  height: 8px;
  animation: confettiFall 5s linear forwards;
  pointer-events: none;
}

@keyframes confettiFall {
  to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}

/* Valentine Button Zone - CRITICAL FIX FOR NO BUTTON */
.button-zone {
  position: relative;
  margin-top: 30px;
  height: 180px; /* Extra tall to prevent button blocking */
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  flex-wrap: wrap;
  padding: 15px;
  width: 100%;
  overflow: visible; /* No clipping */
}

#noBtn {
  position: absolute;
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  max-width: 140px; /* Restrict width to fit */
  padding: 10px 20px;
  white-space: nowrap; /* Keep text in one line */
}

/* YES Celebration Screen */
#yesCelebrationScreen {
  background: radial-gradient(circle, #ff3385, #ff7eb3, #1b1b2f);
  background-size: 200% 200%;
  animation: gradientShift 15s ease infinite;
  z-index: 100;
  flex-direction: column;
  gap: 20px;
  padding: 60px 20px 100px 20px; /* Extra bottom padding for final button */
  overflow-y: auto;
}

.celebration-text {
  text-align: center;
  max-width: 95%;
  width: 100%;
  margin-bottom: 30px;
  word-wrap: break-word;
}

.celebration-text h2 {
  font-size: clamp(1.8rem, 5vw, 2.2rem);
  margin-bottom: 20px;
  color: #fff;
  text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
  animation: bounce 2s infinite alternate;
}

@keyframes bounce {
  0% { transform: translateY(0); }
  100% { transform: translateY(-10px); }
}

.celebration-text p {
  font-size: clamp(1rem, 3vw, 1.1rem);
  line-height: 1.8;
  margin-bottom: 15px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.8s ease;
  word-wrap: break-word;
  padding: 0 10px;
}

.celebration-text p.active {
  opacity: 1;
  transform: translateY(0);
}

/* Memory Gallery */
.memory-gallery {
  display: flex;
  gap: 15px;
  margin: 20px 0;
  justify-content: center;
  flex-wrap: wrap;
}

.memory-thumbnail {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid white;
  box-shadow: 0 0 15px rgba(255, 77, 148, 0.7);
  opacity: 0;
  transform: scale(0.5);
  animation: thumbnailPop 1s ease-out forwards;
  cursor: pointer;
}

.memory-thumbnail:nth-child(1) { animation-delay: 0.5s; }
.memory-thumbnail:nth-child(2) { animation-delay: 0.8s; }

.memory-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@keyframes thumbnailPop {
  0% { opacity: 0; transform: scale(0.5); }
  100% { opacity: 1; transform: scale(1); }
}

/* Final CTA Button - CRITICAL FIX FOR BLOCKING */
.final-cta {
  padding: 15px 30px;
  font-size: clamp(1rem, 3vw, 1.2rem);
  background: white;
  color: #ff3385;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateY(20px);
  border: none;
  font-weight: bold;
  margin-top: 30px;
  margin-bottom: 20px; /* Extra margin to prevent bottom blocking */
  
  /* Critical fixes */
  max-width: 95%;
  width: auto;
  white-space: normal; /* Allow text wrapping */
  line-height: 1.5;
  text-align: center;
  display: inline-block;
  overflow: visible;
}

.final-cta.active {
  opacity: 1;
  transform: translateY(0);
}

.final-cta:hover {
  transform: scale(1.1);
  box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
}

/* Polaroid Wall */
.polaroid-wall {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 30px;
  width: 100%;
  max-width: 900px;
  perspective: 1200px;
  transform-style: preserve-3d;
  margin: 20px auto;
  padding: 10px;
}

.polaroid {
  width: 150px;
  background: white;
  padding: 10px 10px 35px 10px;
  border-radius: 5px;
  text-align: center;
  cursor: pointer;
  transform-style: preserve-3d;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.1),
    0 8px 16px rgba(0, 0, 0, 0.15),
    0 16px 32px rgba(0, 0, 0, 0.2);
  opacity: 0;
  animation: polaroidPop 0.9s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  justify-self: center;
  transform-origin: center bottom;
}

/* Polaroid Rotations */
.polaroid:nth-child(1) { transform: rotate(-5deg) !important; }
.polaroid:nth-child(2) { transform: rotate(7deg) !important; }
.polaroid:nth-child(3) { transform: rotate(-9deg) !important; }
.polaroid:nth-child(4) { transform: rotate(4deg) !important; }
.polaroid:nth-child(5) { transform: rotate(-3deg) !important; }
.polaroid:nth-child(6) { transform: rotate(8deg) !important; }

.polaroid-img-container {
  width: 100%;
  height: 120px;
  background-color: white;
  border-radius: 2px;
  overflow: hidden;
  transition: all 0.8s ease;
  position: relative;
  transform: rotate(1deg);
}

.polaroid-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  transition: opacity 1s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
  transform: rotate(-1deg) scale(1.05);
}

.polaroid.opened .polaroid-img {
  opacity: 1;
}

.polaroid-caption {
  margin-top: 8px;
  font-family: 'Cormorant Garamond', serif;
  font-size: 0.9rem;
  color: #333;
  opacity: 0;
  transform: translateY(5px) rotate(-0.5deg);
  transition: all 0.3s ease;
}

.polaroid:hover {
  transform: rotate(0deg) translateY(-12px) translateZ(30px) !important;
  box-shadow: 
    0 12px 24px rgba(0, 0, 0, 0.2),
    0 20px 40px rgba(0, 0, 0, 0.25),
    0 30px 60px rgba(0, 0, 0, 0.3);
  z-index: 10;
}

.polaroid:hover .polaroid-caption {
  opacity: 1;
  transform: translateY(0) rotate(0deg);
}

@keyframes polaroidPop {
  from {
    opacity: 0;
    transform: translateZ(-50px) scale(0.8) rotate(var(--rotation, 0deg));
  }
  to {
    opacity: 1;
    transform: translateZ(0) scale(1) rotate(var(--rotation, 0deg));
  }
}

/* Responsive Fixes */
@media (max-width: 768px) {
  .polaroid-wall {
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
  }
  
  .screen {
    padding: 40px 15px 80px 15px;
  }
  
  .card {
    padding: 25px 20px 35px 20px;
  }
}

@media (max-width: 480px) {
  .polaroid-wall {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .polaroid {
    width: 120px;
  }
  
  .polaroid-img-container {
    height: 100px;
  }
  
  .button-zone {
    height: 200px; /* Even taller on mobile */
    gap: 10px;
  }
  
  #noBtn {
    max-width: 120px;
    padding: 8px 15px;
    font-size: 0.85rem;
  }
  
  .heart-img-container {
    width: clamp(100px, 25vw, 150px);
  }
  
  .heart-img-wrapper {
    width: 70px;
    height: 70px;
  }
  
  #yesCelebrationScreen {
    padding: 40px 10px 100px 10px;
  }
  
  .final-cta {
    padding: 12px 25px;
    margin-top: 20px;
    margin-bottom: 30px;
  }
}

@media (max-width: 360px) {
  .button-zone {
    height: 220px; /* Tallest for smallest screens */
  }
  
  .polaroid {
    width: 100px;
  }
  
  .polaroid-img-container {
    height: 80px;
  }
  
  .memory-thumbnail {
    width: 60px;
    height: 60px;
  }
  
  button {
    padding: 10px 20px;
    font-size: 0.85rem;
  }
}
</style>
</head>
  
<body>
<div class="stars"></div>

<!-- INTRO SCREEN -->
<div class="screen active" id="introScreen">
  <div class="card">
    <h1>Hi Rianne ‚ù§Ô∏è</h1>
    <p style="margin: 20px 0; line-height: 1.6; font-size: clamp(1rem, 2.5vw, 1.1rem);">This isn‚Äôt just a website.<br>It‚Äôs something I made for you.</p>
    <button onclick="goToAI()">Begin</button>
  </div>
</div>

<!-- AI LOADING SCREEN -->
<div class="screen" id="aiScreen">
  <div class="card">
    <p id="aiText" style="font-size: clamp(1rem, 2.5vw, 1.1rem);">Initializing‚Ä¶</p>
  </div>
</div>

<!-- PASSWORD SCREEN -->
<div class="screen" id="passwordScreen">
  <div class="card">
    <p style="line-height: 1.6; font-size: clamp(1rem, 2.5vw, 1.1rem);">Protected memories üîê<br>
    This space only opens<br>
    for the person this was made for ‚ù§Ô∏è</p>
    <input id="passwordInput" placeholder="Password">
    <button onclick="unlock()">Unlock</button>
  </div>
</div>

<!-- FIRST CONTENT SCREEN -->
<div class="screen" id="contentScreen">
  <div class="card">
    <div class="heart-img-container" id="firstHeartContainer" onclick="openFirstHeart()">
      <div class="heart-img-wrapper">
        <img class="heart-img" src="hellokitty.jpg" alt="First Memory">
      </div>
    </div>
    <div class="textBox" id="firstTextBox">
      <p class="contentText" id="firstContentText"></p>
      <button onclick="nextFirstText()">Next</button>
    </div>
  </div>
</div>

<!-- SECOND CONTENT SCREEN -->
<div class="screen" id="secondContentScreen">
  <div class="card">
    <div class="heart-img-container" id="secondHeartContainer" onclick="openSecondHeart()">
      <div class="heart-img-wrapper">
        <img class="heart-img" src="melody.jpg" alt="Second Memory">
      </div>
    </div>
    <div class="textBox" id="secondTextBox">
      <p class="contentText" id="secondContentText"></p>
      <button onclick="nextSecondText()">Next</button>
    </div>
  </div>
</div>

<!-- VALENTINE SCREEN -->
<div class="screen" id="valentineScreen">
  <div class="card">
    <h2 style="margin-bottom: 20px;">Rianne üíñ</h2>
    <p style="font-size: clamp(1rem, 2.5vw, 1.1rem); margin-bottom: 10px;">Will you be my girlfriend?</p>
    <div class="button-zone">
      <button onclick="yes()">Yes üíï</button>
      <button id="noBtn" onmouseover="moveNo()" ontouchstart="moveNo()">No üôÉ</button>
    </div>
  </div>
</div>

<!-- YES CELEBRATION SCREEN -->
<div class="screen" id="yesCelebrationScreen">
  <div class="celebration-text">
    <h2>MY GIRLFRIEND üíñ</h2>
    <p id="celebrationLine1">I have fallen in love with you<span class="highlight">üíñ</span></p>
    <p id="celebrationLine2">I know this is not the perfect valentines, but I will keep trying my best</p>
    <p id="celebrationLine3">Every moment with you is a gift I cherish</p>
    <p id="celebrationLine4">I promise to love you, care for you, and make you happy every day</p>
  </div>
  
<div class="polaroid-wall">
  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory1.jpg" alt="Memory 1">
    </div>
    <div class="polaroid-caption">Our first meetup</div>
  </div>

  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory2.jpg" alt="Memory 2">
    </div>
    <div class="polaroid-caption">That cute moment</div>
  </div>

  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory3.jpg" alt="Memory 3">
    </div>
    <div class="polaroid-caption">Laughing together</div>
  </div>

  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory4.jpg" alt="Memory 4">
    </div>
    <div class="polaroid-caption">My favorite photo</div>
  </div>

  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory5.jpg" alt="Memory 5">
    </div>
    <div class="polaroid-caption">Just us</div>
  </div>

  <div class="polaroid" onclick="openPolaroid(this)">
    <div class="polaroid-img-container">
      <img class="polaroid-img" src="memory6.jpg" alt="Memory 6">
    </div>
    <div class="polaroid-caption">More memories to come</div>
  </div>
</div>

  <button class="final-cta" id="finalCtaBtn" onclick="finalMessage()">
    Give me a hug or whatever you want?
  </button>
</div>

<script>
// Screen references
const screens = {
  intro: document.getElementById("introScreen"),
  ai: document.getElementById("aiScreen"),
  pass: document.getElementById("passwordScreen"),
  content: document.getElementById("contentScreen"),
  secondContent: document.getElementById("secondContentScreen"),
  val: document.getElementById("valentineScreen"),
  yes: document.getElementById("yesCelebrationScreen")
};

// Screen switch function
function switchScreen(from, to) {
  screens[from].classList.remove("active");
  setTimeout(() => screens[to].classList.add("active"), 300);
}

// Floating hearts
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.style.left = Math.random() * 100 + "vw";
  h.style.animationDelay = Math.random() * 8 + "s";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 8000);
}, 500);

// Intro ‚Üí AI Screen
function goToAI() {
  switchScreen("intro", "ai");

  const loadingSteps = [
    "Scanning emotions‚Ä¶",
    "Analyzing memories‚Ä¶",
    "Confirming feelings‚Ä¶",
    "Access granted ‚ù§Ô∏è"
  ];

  let stepIndex = 0;
  const aiTextElement = document.getElementById("aiText");
  
  const loadingInterval = setInterval(() => {
    aiTextElement.innerText = loadingSteps[stepIndex];
    stepIndex++;
    
    if (stepIndex === loadingSteps.length) {
      clearInterval(loadingInterval);
      setTimeout(() => {
        switchScreen("ai", "pass");
      }, 1000);
    }
  }, 1100);
}

// Unlock Password
function unlock() {
  const inputValue = document.getElementById("passwordInput").value.trim().toLowerCase();
  if (inputValue === "rianne") {
    const passwordInput = document.getElementById("passwordInput");
    passwordInput.style.boxShadow = "0 0 20px rgba(102, 255, 102, 0.8)";
    
    setTimeout(() => {
      switchScreen("pass", "content");
    }, 500);
  } else {
    const passwordInput = document.getElementById("passwordInput");
    passwordInput.style.transform = "scale(1.02) translateX(-5px)";
    setTimeout(() => {
      passwordInput.style.transform = "scale(1.02) translateX(5px)";
      setTimeout(() => {
        passwordInput.style.transform = "scale(1.02) translateX(-5px)";
        setTimeout(() => {
          passwordInput.style.transform = "scale(1.02) translateX(0)";
        }, 100);
      }, 100);
    }, 100);
    
    alert("Only you would know the password ‚ù§Ô∏è");
    passwordInput.value = "";
  }
}

// First Confession Texts
const firstMemoryTexts = [
  "Dear Rianne",
  "It‚Äôs hard to believe we‚Äôve been talking for close to four months now. Somewhere between the conversations, the meetups, and the quiet moments in between, you became someone I genuinely care about. someone who feels important to me.",
  "Lets bring us back to our first meetup. I had zero expectations; it was casual, and I figured it would be nice, but nothing more.",
  "Then I saw you.",
  "You were beautiful in a way that caught me off guard, calm, a little mysterious, the kind of presence that makes you look twice without meaning to.",
  "I tried to act normal. I don‚Äôt think I succeeded. I remember stealing small glances when you weren‚Äôt looking, just to take you in for a moment longer.",
  "You said I felt moody and distant in our first few meetups, but I was just crazy nervous. My mind and heart raced, and all I wanted was to know more about you, the stories that make you laugh, the thoughts you keep close. I wanted the key to your heart, even if I had no idea where to start...",
  "I fumbled over my words sometimes. But every word was genuine every question, every smile, was just me trying in my own quiet way to show that you had my attention.",
  "I don't know without realizing it,Somewhere along the way, I noticed myself picking up my phone more often, hoping to see your name on my screen. I wanted to reply instantly every time, but I held back not because I didn‚Äôt care, but because I didn‚Äôt want to rush you or put pressure on you. I wanted this to feel right.",
  "From that day until now, you‚Äôve had this effortless way of making my heart race. I didn‚Äôt ask how you felt back then because I wasn‚Äôt sure if you were ready, and I didn‚Äôt want to push or risk losing what we had. But the thought stayed with me. Every day. I knew you were someone I didn‚Äôt want to let slip away.",
  "So I finally asked, who I was to you, how you saw me. And when you told me you saw me romantically, that you just needed time, it meant more to me than I ever said out loud.",
  "Everything we‚Äôve shared so far has been nothing but good memories to me. And the truth is, I don‚Äôt just treasure what we‚Äôve had, I want what comes next. More moments, more laughter, more memories‚Ä¶ with you beside me."
];

let firstTextIndex = 0;

// Second Confession Texts
const secondMemoryTexts = [
  "This feeling... its so strange.At first, I was just curious, curious to know you, to understand you, nothing more. But little by little, I found myself wanting to be closer, to stay by your side, to be with you always.",
  "I often find myself wondering when I first started liking you. I‚Äôve replayed so many moments in my head, but none of them ever felt big enough to explain it.",
  "Then, I finally realized the moment I knew I fell in love with you wasn‚Äôt because of a certain thing you did or said, nor was it because I heard a love song at night and needed someone to think of. It was when whenever I have something that I wanted to share, before I even reach for my phone, my heart already knows where to go. You are the first person I think about.",
  "I realized something.",
  "<span class='highlight'>I have fallen in love with you.</span>",
  "All I know is that I‚Äôve fallen deeply, irrevocably in love with you. As time goes on, I find myself loving you more and more. You‚Äôve become the quiet, steady center of my days, the part of my life I can‚Äôt imagine being without.",
  "Waiting for your message feels like the sweetest, most precious kind of anticipation. Just knowing you‚Äôre there makes me feel safe, makes my heart feel light and full. Thinking of you brings a smile to my face, a warmth to my chest. And I love you more with every passing day.",
  "And I want to be more than just the one who loves you. I want to be the one you can always rely on, the safe place where you can open up your heart, and share every part of yourself, without fear.",
  "I want to cherish you, not just in the easy moments, but in the quiet ones too. To listen to you, understand you, and love you with intention, patience, and my whole heart.",
  "You‚Äôre not just my crush.",
  "<span class='highlight'>You‚Äôre my choice.</span>",
  "<span class='highlight'>You‚Äôre my everything, Rianne.</span>",
  "And now‚Ä¶ I have one final question for you üíñ"
];

let secondTextIndex = 0;

// Typewriter Effect
function typeWriter(text, element, speed = 30) {
  let i = 0;
  element.innerHTML = '';
  
  function type() {
    if (i < text.length) {
      element.innerHTML += text.charAt(i);
      i++;
      setTimeout(type, speed);
    }
  }
  type();
}

// Open First Heart
function openFirstHeart() {
  const heartContainer = document.getElementById("firstHeartContainer");
  heartContainer.style.transform = "scale(0.8)";
  heartContainer.style.opacity = "0";
  heartContainer.style.boxShadow = "none";

  setTimeout(() => {
    heartContainer.style.display = "none";
    const textBox = document.getElementById("firstTextBox");
    textBox.classList.add("active");
    const contentText = document.getElementById("firstContentText");
    typeWriter(firstMemoryTexts[0], contentText);
  }, 300);
}

// Next First Text
function nextFirstText() {
  const contentText = document.getElementById("firstContentText");
  contentText.style.opacity = "0";
  contentText.style.transform = "translateY(10px)";

  setTimeout(() => {
    firstTextIndex++;
    if (firstTextIndex < firstMemoryTexts.length) {
      typeWriter(firstMemoryTexts[firstTextIndex], contentText);
      contentText.style.opacity = "1";
      contentText.style.transform = "translateY(0)";
    } else {
      switchScreen("content", "secondContent");
    }
  }, 300);
}

// Open Second Heart
function openSecondHeart() {
  const heartContainer = document.getElementById("secondHeartContainer");
  heartContainer.style.transform = "scale(0.8)";
  heartContainer.style.opacity = "0";
  heartContainer.style.boxShadow = "none";

  setTimeout(() => {
    heartContainer.style.display = "none";
    const textBox = document.getElementById("secondTextBox");
    textBox.classList.add("active");
    const contentText = document.getElementById("secondContentText");
    typeWriter(secondMemoryTexts[0], contentText);
  }, 300);
}

// Next Second Text
function nextSecondText() {
  const contentText = document.getElementById("secondContentText");
  contentText.style.opacity = "0";
  contentText.style.transform = "translateY(10px)";

  setTimeout(() => {
    secondTextIndex++;
    if (secondTextIndex < secondMemoryTexts.length) {
      typeWriter(secondMemoryTexts[secondTextIndex], contentText);
      contentText.style.opacity = "1";
      contentText.style.transform = "translateY(0)";
    } else {
      switchScreen("secondContent", "val");
    }
  }, 300);
}

// No Button Logic
let dodgeCount = 0;
const naughtyTexts = [
  "No üôÉ",
  "Not gonna happen ü§è",
  "Catch me if you can üòú",
  "I'm running away üèÉ‚Äç‚ôÄÔ∏è",
  "Stop chasing me ‚ù§Ô∏è",
  "Eek! So scary üòù",
  "Okay fine... you win",
  "Yes üíï"
];

let mouseX = 0, mouseY = 0;
document.addEventListener("mousemove", (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});

function moveNo(e) {
  const noBtn = document.getElementById("noBtn");
  const zone = document.querySelector(".button-zone");
  const zoneRect = zone.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();

  dodgeCount++;

  // Calculate safe position within button zone
  const btnCenterX = btnRect.left + btnRect.width / 2;
  const btnCenterY = btnRect.top + btnRect.height / 2;
  const dist = Math.hypot(mouseX - btnCenterX, mouseY - btnCenterY);
  const runAwayDistance = dist < 80 ? 80 : 40; // Reduced to keep in bounds

  // SAFE POSITION CALCULATION (never outside zone)
  const maxX = zoneRect.width - noBtn.offsetWidth - 20; // Extra margin
  const maxY = zoneRect.height - noBtn.offsetHeight - 20;
  const randomX = Math.max(10, Math.min(Math.random() * maxX, maxX)); // Min margin
  const randomY = Math.max(10, Math.min(Math.random() * maxY, maxY));

  // Button scaling
  let scale = 1;
  let opacity = 1;
  if (dodgeCount > 2) scale = 0.9;
  if (dodgeCount > 5) scale = 0.8;
  if (dodgeCount > 8) scale = 0.7;
  if (dodgeCount > 12) opacity = 0.8;
  if (dodgeCount > 16) opacity = 0.6;

  let textIndex = Math.min(dodgeCount, naughtyTexts.length - 1);

  // Apply styles (SAFE)
  noBtn.style.left = randomX + "px";
  noBtn.style.top = randomY + "px";
  noBtn.style.transform = `translate(0,0) scale(${scale})`;
  noBtn.style.opacity = opacity;
  noBtn.innerText = naughtyTexts[textIndex];

  // Final surrender
  if (dodgeCount >= naughtyTexts.length - 1) {
    setTimeout(() => {
      yes();
    }, 400);
  }

  if (e) e.preventDefault();
}

// Open Polaroid
function openPolaroid(polaroid) {
  polaroid.classList.add('opened');
  
  const heart = document.createElement('div');
  heart.classList.add('heart');
  heart.style.left = `${polaroid.offsetLeft + polaroid.offsetWidth/2}px`;
  heart.style.top = `${polaroid.offsetTop + polaroid.offsetHeight/2}px`;
  heart.style.width = '20px';
  heart.style.height = '20px';
  document.querySelector('.polaroid-wall').appendChild(heart);
  setTimeout(() => heart.remove(), 2000);
}

// Yes Celebration
function yes() {
  switchScreen("val", "yes");
  
  // Confetti
  for(let i=0; i<100; i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = ["#ff4d94","#ff99cc","#ffffff","#ff3385","#ff66a3"][Math.floor(Math.random()*5)];
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 5000);
  }
  
  // Animate text
  setTimeout(() => {
    document.getElementById("celebrationLine1").classList.add("active");
    
    setTimeout(() => {
      document.getElementById("celebrationLine2").classList.add("active");
      
      setTimeout(() => {
        document.getElementById("celebrationLine3").classList.add("active");
        
        setTimeout(() => {
          document.getElementById("celebrationLine4").classList.add("active");
          
          setTimeout(() => {
            document.getElementById("finalCtaBtn").classList.add("active");
          }, 800);
        }, 800);
      }, 800);
    }, 800);
  }, 500);
}

// Final Message
function finalMessage() {
  // Extra hearts
  for (let i = 0; i < 100; i++) {
    setTimeout(() => {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.width = (Math.random() * 20 + 5) + "px";
      heart.style.height = (Math.random() * 20 + 5) + "px";
      heart.style.opacity = Math.random() * 0.9 + 0.1;
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 10000);
    }, i * 50);
  }
  
  // Update text
  document.querySelector(".celebration-text h2").innerText = "I know words dont mean as much as actions, so I hope time will show how much you mean to me";
  document.getElementById("celebrationLine1").innerText = "";
  document.getElementById("celebrationLine2").innerText = "";
  document.getElementById("celebrationLine3").style.display = "none";
  document.getElementById("celebrationLine4").style.display = "none";
  
  // Hide button
  document.getElementById("finalCtaBtn").style.display = "none";
}

// Keyboard support
document.getElementById("passwordInput").addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    unlock();
  }
});

// Mobile touch fix
document.addEventListener("touchmove", (e) => {
  if (screens.val.classList.contains("active") || screens.yes.classList.contains("active")) {
    e.preventDefault();
  }
}, { passive: false });

// Initialize no button position (SAFE)
document.addEventListener('DOMContentLoaded', function() {
  const noBtn = document.getElementById("noBtn");
  const zone = document.querySelector(".button-zone");
  const zoneRect = zone.getBoundingClientRect();
  
  // Safe initial position (center-right, in bounds)
  noBtn.style.position = 'absolute';
  noBtn.style.left = (zoneRect.width / 2 + 50) + 'px'; // Reduced offset
  noBtn.style.top = (zoneRect.height / 2 - 20) + 'px';
  noBtn.style.maxWidth = '120px';
});
</script>
</body>
</html>
